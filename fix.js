const fs = require("fs"); let content = fs.readFileSync("app/api/maintenance-schedule/route.ts", "utf8"); content = content.replace(/riskFactors: rec\.riskFactors\s*\}\)\);/, "riskFactors: rec.riskFactors || [\"Standard maintenance\"], affectedAssets: [rec.tailNumber || \"Unknown\"], requiredPersonnel: getRequiredPersonnel(rec.maintenanceType) || [\"A&P Mechanic\"], recommendedDate: rec.suggestedDate ? new Date(rec.suggestedDate).toISOString() : new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), estimatedDowntime: rec.estimatedDuration || 8, timeWindow: { earliest: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), latest: new Date(Date.now() + 21 * 24 * 60 * 60 * 1000).toISOString(), optimal: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString() }, createdAt: new Date().toISOString() }));"); fs.writeFileSync("app/api/maintenance-schedule/route.ts", content); console.log("Fixed OpenAI conversion");
